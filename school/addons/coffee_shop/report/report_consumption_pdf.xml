<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <record id="action_report_consumptions" model="ir.actions.report">
    <field name="name">Consumption</field>
    <field name="model">wizard.consumption.report</field>
    <field name="report_type">qweb-pdf</field>
    <field name="report_name">coffee_shop.template_consumption</field>
  </record>

  <template id="template_consumption">
    <t t-call="web.html_container">
      <t t-call="web.external_layout">
        <div class="page">
          <b>Fecha Impresión:</b> <span t-esc="get_today()"/>
          <br/>
          <table class="table" style="width: 100%;">
            <thead>
              <tr>
                <th>Alumno</th>
                <th>Cafeteria</th>
                <th>Platillo</th>
                <th>Día</th>
                <th>Estado</th>
              </tr>
            </thead>
            <tbody>
              <tr t-foreach="consumptions" t-as="con">
                <tr>
                  <td><span t-field="con.student_id"/></td>
                  <td><span t-field="con.coffee_shop_id"/></td>
                  <td><span t-field="con.meal_id"/></td>
                  <td><span t-field="con.consumption_date"/></td>
                  <td><span t-field="con.state"/></td>
                </tr>
              </tr>
            </tbody>
          </table>
        </div>
      </t>
    </t>
  </template>
</odoo>
